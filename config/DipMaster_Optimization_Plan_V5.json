{
  "optimization_plan": "DipMaster_Closed_Loop_Optimization_V5",
  "version": "5.0.0",
  "created_date": "2025-08-18",
  "objective": "85%+胜率，<3%回撤，夏普比>2.5的完整离线优化",
  
  "phase_gates": {
    "phase_1_discovery_gate": {
      "name": "项目状态评估与需求验证",
      "duration": "2 hours",
      "deliverables": ["项目诊断报告", "数据完整性验证", "优化路径设计"],
      "acceptance_criteria": [
        "数据质量验证通过",
        "当前性能基线确定",
        "优化目标可行性确认"
      ],
      "owner": "strategy-orchestrator",
      "gate_review": "所有验证通过方可进入Phase 2"
    },
    
    "phase_2_data_infrastructure": {
      "name": "历史数据收集和验证",
      "duration": "4 hours", 
      "deliverables": ["MarketDataBundle_Optimized.json", "数据质量报告", "基准性能测试"],
      "acceptance_criteria": [
        "2年历史数据完整性>99%",
        "多币种数据时间对齐",
        "数据质量得分>95分"
      ],
      "dependencies": ["phase_1_discovery_gate"],
      "owner": "data-infrastructure-builder",
      "gate_review": "数据质量必须满足优化要求"
    },

    "phase_3_feature_engineering": {
      "name": "技术指标特征生成和标签对齐",
      "duration": "6 hours",
      "deliverables": ["FeatureSet_Optimized.json", "特征重要性分析", "数据泄漏检测报告"],
      "acceptance_criteria": [
        "无数据泄漏",
        "特征完整性100%",
        "标签对齐准确性>99%"
      ],
      "dependencies": ["phase_2_data_infrastructure"],
      "owner": "feature-engineering-labeler",
      "gate_review": "特征质量是优化成功的关键"
    },

    "phase_4_model_optimization": {
      "name": "策略参数优化和验证",
      "duration": "8 hours",
      "deliverables": ["OptimizedParameters.json", "BacktestReport_V5.html", "性能提升分析"],
      "acceptance_criteria": [
        "胜率提升到85%+",
        "最大回撤<3%",
        "夏普比>2.5",
        "过拟合检测通过"
      ],
      "dependencies": ["phase_3_feature_engineering"],
      "owner": "model-backtest-validator",
      "gate_review": "必须通过所有性能和稳健性指标"
    },

    "phase_5_portfolio_optimization": {
      "name": "组合和风险控制优化",
      "duration": "4 hours",
      "deliverables": ["OptimizedPortfolio.json", "风险评估报告", "资金配置策略"],
      "acceptance_criteria": [
        "组合夏普比>2.5",
        "最大相关性<0.7",
        "风险调整后收益最优"
      ],
      "dependencies": ["phase_4_model_optimization"],
      "owner": "portfolio-risk-optimizer",
      "gate_review": "风险控制必须满足约束条件"
    },

    "phase_6_validation_gate": {
      "name": "最终验证和报告生成",
      "duration": "2 hours",
      "deliverables": ["综合验证报告", "性能对比分析", "实施建议"],
      "acceptance_criteria": [
        "综合验证得分>80分",
        "所有目标指标达成",
        "稳健性测试通过"
      ],
      "dependencies": ["phase_5_portfolio_optimization"],
      "owner": "strategy-orchestrator",
      "gate_review": "最终决策：是否可以进入实盘测试"
    }
  },

  "optimization_dimensions": {
    "technical_indicators": {
      "rsi_period": {"range": [10, 30], "current": 14, "priority": "高"},
      "rsi_oversold": {"range": [20, 40], "current": 30, "priority": "高"},
      "rsi_overbought": {"range": [60, 80], "current": 70, "priority": "中"},
      "bollinger_period": {"range": [15, 25], "current": 20, "priority": "中"},
      "bollinger_std": {"range": [1.5, 2.5], "current": 2.0, "priority": "低"},
      "volume_ma_period": {"range": [10, 30], "current": 20, "priority": "中"}
    },
    
    "entry_conditions": {
      "dip_threshold": {"range": [0.001, 0.01], "current": 0.003, "priority": "高"},
      "volume_spike_min": {"range": [1.2, 3.0], "current": 1.5, "priority": "高"},
      "trend_filter": {"options": ["none", "ema", "sma"], "current": "ema", "priority": "中"}
    },
    
    "exit_conditions": {
      "profit_target": {"range": [0.005, 0.02], "current": 0.008, "priority": "高"},
      "stop_loss": {"range": [0.002, 0.008], "current": 0.004, "priority": "高"},
      "time_stop_minutes": {"range": [120, 300], "current": 180, "priority": "中"},
      "boundary_strict": {"options": [true, false], "current": true, "priority": "高"}
    },
    
    "position_management": {
      "max_positions": {"range": [1, 5], "current": 3, "priority": "中"},
      "position_size_usd": {"range": [500, 2000], "current": 1000, "priority": "中"},
      "kelly_fraction": {"range": [0.1, 0.5], "current": 0.25, "priority": "低"}
    },
    
    "time_filters": {
      "trading_hours": {"options": ["24h", "asia", "europe", "us"], "current": "24h", "priority": "低"},
      "avoid_news_minutes": {"range": [0, 60], "current": 30, "priority": "低"}
    }
  },

  "validation_framework": {
    "time_series_validation": {
      "method": "purged_group_time_series_split",
      "n_splits": 5,
      "test_size": 0.2,
      "gap": "1d"
    },
    
    "walk_forward_analysis": {
      "window_size": "3M",
      "step_size": "1M", 
      "total_periods": 12,
      "min_sample_size": 200
    },
    
    "monte_carlo_validation": {
      "iterations": 1000,
      "confidence_level": 0.95,
      "bootstrap_samples": 500
    },
    
    "stress_testing": {
      "scenarios": ["2022_crypto_crash", "2021_bull_run", "2020_covid_crash", "sideways_market"],
      "volatility_regimes": ["low", "normal", "high", "extreme"]
    }
  },

  "success_criteria": {
    "performance_targets": {
      "win_rate": ">= 0.85",
      "max_drawdown": "<= 0.03", 
      "sharpe_ratio": ">= 2.5",
      "profit_factor": ">= 2.0",
      "monthly_return": ">= 0.15"
    },
    
    "robustness_criteria": {
      "validation_score": ">= 80",
      "overfitting_risk": "<= 0.2",
      "parameter_stability": ">= 0.8",
      "multi_asset_consistency": ">= 0.7"
    }
  },

  "risk_management": {
    "optimization_risks": [
      "过度优化风险：使用时序分割和样本外验证",
      "数据挖掘偏差：多重假设检验校正",
      "选择偏差：多资产一致性验证",
      "前瞻偏差：严格时间序列处理"
    ],
    
    "contingency_plans": {
      "optimization_failure": "降级到简化策略参数",
      "validation_failure": "增加正则化约束",
      "performance_degradation": "回滚到上一个稳定版本"
    }
  },

  "deliverables": {
    "config_files": [
      "dipmaster_optimized_v5_config.json",
      "optimized_parameters.json", 
      "portfolio_allocation.json"
    ],
    
    "reports": [
      "DipMaster_V5_Optimization_Report.md",
      "Performance_Comparison_Analysis.html",
      "Risk_Assessment_Report.json",
      "Implementation_Guide.md"
    ],
    
    "validation_outputs": [
      "comprehensive_validation_results.json",
      "walk_forward_analysis_report.html",
      "overfitting_detection_summary.json"
    ]
  }
}
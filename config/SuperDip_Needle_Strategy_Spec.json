{
  "strategy_name": "SuperDip_Needle_Strategy",
  "version": "1.0.0",
  "description": "超跌接针策略 - 模仿dip超跌反弹，捕捉短期回调机会，多时间框架协同，目标年化夏普>4",
  "created_date": "2025-08-18",
  "optimization_objective": "超跌反弹捕捉，风险收益平衡优化",

  "performance_targets": {
    "annual_sharpe_ratio": ">4.0",
    "max_drawdown": "<10%",
    "annual_return": "15-25%",
    "win_rate": ">60%",
    "profit_factor": ">1.5",
    "beta_neutrality": "market_neutral",
    "avg_holding_minutes": "30-240",
    "validation_score": ">85/100"
  },

  "universe": [
    "BTCUSDT", "ETHUSDT", "BNBUSDT", "SOLUSDT", "XRPUSDT",
    "ADAUSDT", "DOGEUSDT", "LINKUSDT", "AVAXUSDT", "DOTUSDT",
    "MATICUSDT", "UNIUSDT", "LTCUSDT", "ATOMUSDT", "NEARUSDT"
  ],

  "horizon": "short_term_intraday",
  "trading_timeframes": ["1m", "3m", "5m", "15m"],
  "primary_timeframe": "5m",
  "confirmation_timeframes": ["15m", "1h"],

  "constraints": {
    "beta": "market_neutral",
    "max_dd": 0.10,
    "max_correlation": 0.6,
    "max_concurrent_positions": 5,
    "max_position_pct": 0.20,
    "daily_loss_limit": 0.03,
    "sector_concentration_limit": 0.40
  },

  "venues": ["binance_spot", "binance_futures"],

  "risk_limits": {
    "gross_leverage": 3.0,
    "net_leverage": 2.0,
    "max_position_pct": 0.20,
    "max_daily_loss": 0.03,
    "position_concentration_limit": 0.20,
    "correlation_threshold": 0.6,
    "volatility_limit": 0.25,
    "var_95_limit": 0.05
  },

  "superdip_detection_system": {
    "philosophy": "Multi-Timeframe Confirmation - 超跌识别的层次化验证",
    "detection_layers": [
      {
        "name": "Primary_Oversold_Detection",
        "description": "核心超跌信号识别",
        "timeframe": "5m",
        "components": {
          "rsi_oversold": {
            "rsi_threshold": 25,
            "rsi_optimal_range": [15, 30],
            "lookback_periods": 14,
            "weight": 0.25
          },
          "bollinger_band_penetration": {
            "std_multiplier": 2.0,
            "penetration_threshold": 0.02,
            "confirmation_candles": 2,
            "weight": 0.20
          },
          "volume_spike_confirmation": {
            "volume_multiplier": 2.5,
            "volume_ma_period": 20,
            "spike_persistence": 3,
            "weight": 0.15
          },
          "price_velocity_deceleration": {
            "momentum_lookback": 10,
            "deceleration_threshold": 0.3,
            "velocity_smoothing": 3,
            "weight": 0.15
          }
        }
      },
      {
        "name": "Multi_Timeframe_Confirmation",
        "description": "多时间框架确认机制",
        "components": {
          "15m_trend_alignment": {
            "ema_periods": [20, 50],
            "trend_strength_threshold": 0.6,
            "alignment_weight": 0.20,
            "weight": 0.10
          },
          "1h_support_confluence": {
            "support_levels": ["pivot", "fibonacci", "volume_profile"],
            "confluence_threshold": 2,
            "proximity_tolerance": 0.005,
            "weight": 0.10
          },
          "higher_tf_divergence": {
            "divergence_types": ["rsi", "macd", "volume"],
            "divergence_strength": 0.7,
            "confirmation_periods": 3,
            "weight": 0.05
          }
        }
      }
    ],
    "minimum_confidence_score": 0.70,
    "signal_cooldown_minutes": 45,
    "max_signals_per_hour": 3
  },

  "needle_reversal_confirmation": {
    "philosophy": "接针反转确认 - 确保反弹动力充足",
    "confirmation_criteria": [
      {
        "name": "Candlestick_Pattern_Recognition",
        "patterns": [
          "hammer", "inverted_hammer", "doji_reversal", 
          "bullish_engulfing", "piercing_line"
        ],
        "pattern_strength_threshold": 0.75,
        "body_to_shadow_ratio": 0.3,
        "weight": 0.25
      },
      {
        "name": "Volume_Acceleration",
        "components": {
          "volume_increase": 1.8,
          "buy_volume_dominance": 0.6,
          "institutional_flow_detection": true,
          "weight": 0.20
        }
      },
      {
        "name": "Momentum_Divergence",
        "indicators": ["rsi", "macd", "stochastic"],
        "divergence_strength": 0.65,
        "confirmation_candles": 2,
        "weight": 0.15
      },
      {
        "name": "Microstructure_Evidence",
        "components": {
          "bid_ask_improvement": 0.15,
          "order_flow_reversal": true,
          "tape_reading_signals": ["size_increase", "aggressive_buying"],
          "weight": 0.15
        }
      }
    ],
    "minimum_reversal_confidence": 0.65,
    "confirmation_timeout_minutes": 15
  },

  "adaptive_exit_framework": {
    "philosophy": "Asymmetric Risk-Reward - 让利润奔跑，严控风险",
    "exit_strategies": {
      "profit_ladder_system": [
        {"target_pct": 0.8, "exit_ratio": 0.25, "time_limit": 20},
        {"target_pct": 1.5, "exit_ratio": 0.30, "time_limit": 45},
        {"target_pct": 2.5, "exit_ratio": 0.25, "time_limit": 90},
        {"target_pct": 4.0, "exit_ratio": 0.20, "time_limit": 180}
      ],
      "dynamic_stop_management": {
        "initial_stop_loss": 0.006,
        "trailing_activation": 0.012,
        "trailing_step": 0.004,
        "volatility_adjustment": true,
        "time_decay_factor": 0.95
      },
      "smart_time_management": {
        "min_holding_minutes": 10,
        "max_holding_minutes": 240,
        "optimal_exit_windows": [15, 30, 60, 90, 120, 180],
        "regime_based_adjustment": true
      }
    },
    "risk_management": {
      "position_heat_monitoring": true,
      "correlation_based_exits": true,
      "volatility_spike_protection": true,
      "drawdown_circuit_breaker": 0.08
    }
  },

  "intelligent_position_sizing": {
    "sizing_methodology": "Volatility-Adjusted Kelly + Confidence Scaling",
    "components": {
      "base_kelly_calculation": {
        "win_rate_estimation": "rolling_100_trades",
        "avg_win_loss_ratio": "dynamic_calculation",
        "kelly_fraction_limit": 0.20,
        "confidence_discount": 0.8
      },
      "volatility_scaling": {
        "target_portfolio_volatility": 0.12,
        "instrument_volatility_lookback": 30,
        "volatility_regime_adjustment": {
          "low_vol": 1.4,
          "normal_vol": 1.0,
          "high_vol": 0.5
        }
      },
      "signal_confidence_scaling": {
        "confidence_tiers": [
          {"min_score": 0.85, "size_multiplier": 1.2},
          {"min_score": 0.75, "size_multiplier": 1.0},
          {"min_score": 0.65, "size_multiplier": 0.7}
        ]
      },
      "correlation_adjustment": {
        "max_correlated_exposure": 0.35,
        "correlation_penalty_factor": 0.6,
        "sector_diversification": true
      }
    },
    "size_constraints": {
      "min_position_usd": 150,
      "max_position_usd": 5000,
      "max_portfolio_heat": 0.18,
      "max_single_instrument_weight": 0.20
    }
  },

  "regime_aware_adaptation": {
    "market_regime_classification": {
      "volatility_regimes": ["low", "normal", "high", "crisis"],
      "trend_regimes": ["bull", "bear", "sideways"],
      "liquidity_regimes": ["high", "normal", "stressed"],
      "classification_lookback": 30
    },
    "regime_specific_parameters": {
      "low_volatility": {
        "signal_threshold": 0.65,
        "position_size_multiplier": 1.3,
        "max_holding_time": 300
      },
      "normal_volatility": {
        "signal_threshold": 0.70,
        "position_size_multiplier": 1.0,
        "max_holding_time": 240
      },
      "high_volatility": {
        "signal_threshold": 0.80,
        "position_size_multiplier": 0.6,
        "max_holding_time": 120
      },
      "crisis_mode": {
        "signal_threshold": 0.90,
        "position_size_multiplier": 0.3,
        "max_holding_time": 60,
        "emergency_exit_triggers": true
      }
    }
  },

  "multi_asset_orchestration": {
    "selection_methodology": "Dynamic Performance-Based Rotation",
    "scoring_framework": {
      "performance_metrics": {
        "recent_win_rate": 0.25,
        "profit_factor": 0.20,
        "sharpe_ratio": 0.15,
        "max_drawdown": 0.10
      },
      "market_fit_metrics": {
        "volatility_suitability": 0.10,
        "liquidity_adequacy": 0.10,
        "trend_strength": 0.05,
        "correlation_penalty": 0.05
      }
    },
    "rotation_rules": {
      "evaluation_frequency": "weekly",
      "min_score_threshold": 65,
      "max_underperformer_tolerance_days": 10,
      "forced_rotation_triggers": ["consecutive_losses_>_5", "drawdown_>_6%"]
    }
  },

  "comprehensive_risk_framework": {
    "risk_layers": {
      "trade_level_risk": {
        "max_loss_per_trade": 0.008,
        "position_sizing_based_on_volatility": true,
        "stop_loss_mandatory": true,
        "position_correlation_check": true
      },
      "portfolio_level_risk": {
        "max_portfolio_drawdown": 0.10,
        "max_sector_concentration": 0.40,
        "correlation_matrix_monitoring": true,
        "var_calculation": "monte_carlo_1000_iterations"
      },
      "system_level_risk": {
        "daily_loss_circuit_breaker": 0.03,
        "consecutive_loss_limit": 8,
        "volatility_spike_protection": true,
        "liquidity_crisis_detection": true
      }
    },
    "risk_monitoring": {
      "real_time_metrics": [
        "current_drawdown", "portfolio_beta", "correlation_matrix",
        "var_95", "expected_shortfall", "leverage_ratio"
      ],
      "alert_thresholds": {
        "drawdown_warning": 0.06,
        "drawdown_critical": 0.08,
        "correlation_warning": 0.55,
        "volatility_spike": 2.0
      }
    }
  },

  "validation_requirements": {
    "statistical_validation": {
      "min_sample_size": 300,
      "significance_level": 0.01,
      "monte_carlo_iterations": 2000,
      "bootstrap_samples": 1000
    },
    "robustness_testing": {
      "walk_forward_periods": 24,
      "out_of_sample_ratio": 0.25,
      "stress_test_scenarios": [
        "2018_crypto_crash", "covid_march_2020", "may_2022_luna_crash",
        "ftx_november_2022", "march_2023_banking_crisis"
      ]
    },
    "performance_benchmarks": {
      "min_sharpe_ratio": 3.5,
      "max_drawdown": 0.10,
      "min_win_rate": 0.58,
      "min_profit_factor": 1.4,
      "min_calmar_ratio": 2.0
    },
    "overfitting_prevention": {
      "parameter_stability_test": true,
      "cross_validation_folds": 5,
      "parameter_sensitivity_analysis": true,
      "regime_consistency_check": true
    }
  },

  "technology_architecture": {
    "core_engine": "asyncio_multiprocessing_hybrid",
    "data_infrastructure": {
      "real_time_streaming": "websocket_binance_multi_stream",
      "historical_storage": "parquet_columnar_format",
      "feature_pipeline": "real_time_computation_engine",
      "data_quality_monitoring": "comprehensive_validation_framework"
    },
    "execution_system": {
      "order_management": "smart_routing_with_slicing",
      "latency_optimization": "co_location_proximity",
      "risk_controls": "pre_trade_real_time_checks",
      "execution_analytics": "comprehensive_tca_framework"
    },
    "monitoring_stack": {
      "real_time_dashboard": "react_websocket_frontend",
      "alerting_system": "multi_channel_notifications",
      "performance_tracking": "comprehensive_kpi_monitoring",
      "system_health": "infrastructure_monitoring_suite"
    }
  }
}